{"version":3,"file":"tabularStyle.js","names":["toTabularFormat","tokenText","indentStyle","tail","length","includes","split","padEnd","padStart","join","isTabularToken","token","type","TokenType","RESERVED_LOGICAL_OPERATOR","RESERVED_DEPENDENT_CLAUSE","RESERVED_COMMAND","RESERVED_BINARY_COMMAND","RESERVED_JOIN"],"sources":["../../src/formatter/tabularStyle.ts"],"sourcesContent":["import type { IndentStyle } from 'src/types';\nimport { Token, TokenType } from 'src/lexer/token';\n\n/**\n * When tabular style enabled,\n * produces a 10-char wide version of token text.\n */\nexport default function toTabularFormat(tokenText: string, indentStyle: IndentStyle): string {\n  if (indentStyle === 'standard') {\n    return tokenText;\n  }\n\n  let tail = [] as string[]; // rest of keyword\n  if (tokenText.length >= 10 && tokenText.includes(' ')) {\n    // split for long keywords like INNER JOIN or UNION DISTINCT\n    [tokenText, ...tail] = tokenText.split(' ');\n  }\n\n  if (indentStyle === 'tabularLeft') {\n    tokenText = tokenText.padEnd(9, ' ');\n  } else {\n    tokenText = tokenText.padStart(9, ' ');\n  }\n\n  return tokenText + ['', ...tail].join(' ');\n}\n\n/**\n * True when the token can be formatted in tabular style\n */\nexport function isTabularToken(token: Token): boolean {\n  return (\n    token.type === TokenType.RESERVED_LOGICAL_OPERATOR ||\n    token.type === TokenType.RESERVED_DEPENDENT_CLAUSE ||\n    token.type === TokenType.RESERVED_COMMAND ||\n    token.type === TokenType.RESERVED_BINARY_COMMAND ||\n    token.type === TokenType.RESERVED_JOIN\n  );\n}\n"],"mappings":";;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACe,SAASA,eAAT,CAAyBC,SAAzB,EAA4CC,WAA5C,EAA8E;EAC3F,IAAIA,WAAW,KAAK,UAApB,EAAgC;IAC9B,OAAOD,SAAP;EACD;;EAED,IAAIE,IAAI,GAAG,EAAX,CAL2F,CAKhE;;EAC3B,IAAIF,SAAS,CAACG,MAAV,IAAoB,EAApB,IAA0BH,SAAS,CAACI,QAAV,CAAmB,GAAnB,CAA9B,EAAuD;IACrD;IADqD,uBAE9BJ,SAAS,CAACK,KAAV,CAAgB,GAAhB,CAF8B;;IAAA;;IAEpDL,SAFoD;IAEtCE,IAFsC;EAGtD;;EAED,IAAID,WAAW,KAAK,aAApB,EAAmC;IACjCD,SAAS,GAAGA,SAAS,CAACM,MAAV,CAAiB,CAAjB,EAAoB,GAApB,CAAZ;EACD,CAFD,MAEO;IACLN,SAAS,GAAGA,SAAS,CAACO,QAAV,CAAmB,CAAnB,EAAsB,GAAtB,CAAZ;EACD;;EAED,OAAOP,SAAS,GAAG,CAAC,EAAD,4BAAQE,IAAR,GAAcM,IAAd,CAAmB,GAAnB,CAAnB;AACD;AAED;AACA;AACA;;;AACO,SAASC,cAAT,CAAwBC,KAAxB,EAA+C;EACpD,OACEA,KAAK,CAACC,IAAN,KAAeC,gBAAA,CAAUC,yBAAzB,IACAH,KAAK,CAACC,IAAN,KAAeC,gBAAA,CAAUE,yBADzB,IAEAJ,KAAK,CAACC,IAAN,KAAeC,gBAAA,CAAUG,gBAFzB,IAGAL,KAAK,CAACC,IAAN,KAAeC,gBAAA,CAAUI,uBAHzB,IAIAN,KAAK,CAACC,IAAN,KAAeC,gBAAA,CAAUK,aAL3B;AAOD"}